<ion-header>
  <ion-toolbar>
    <ion-item color="primary">
      <ion-avatar slot="start">
        <img src="assets/icon/person.png" />
      </ion-avatar>
      <!-- <p class="ion-margin"> -->
      <ion-row style="max-width: 100%;">
        <ion-col size="12">

          <ion-item color="primary" class="ion-no-padding">

            <ion-label>{{aspirante.asp_nombre}}</ion-label>
            <ion-badge color="light" style="right: 0;" mode="ios"> CI: {{aspirante.asp_cedula}}</ion-badge>

          </ion-item>

        </ion-col>

        <ion-col size="8">
          <ion-label style="font-size: 0.8rem;">
            <ion-icon name="location"> </ion-icon>
            Dir: <i>{{aspirante.asp_direccion}}</i>
          </ion-label>
          <ion-label style="font-size: 0.8rem;">
            <!-- <ion-text> -->
            <ion-icon name="school"> </ion-icon>
            Estudios: <i> {{aspirante.asp_academico}} </i>
          </ion-label>
          <ion-label style="font-size: 0.8rem;">
            <ion-icon name="ribbon"> </ion-icon>
            Cargo: <i>{{aspirante.asp_cargo}}</i>
          </ion-label>
        </ion-col>

        <ion-col size="4">
          <ion-label style="font-size: 0.8rem;">
            <ion-icon name="call"> </ion-icon>
            Telf: <i> {{aspirante.asp_telefono}}</i>
          </ion-label>
          <ion-label style="font-size: 0.8rem;">
            <ion-icon name="hourglass"> </ion-icon>
            Edad: <i> {{asp_edad}} a√±os </i>
          </ion-label>
          <ion-label style="font-size: 0.8rem;">
            <ion-icon name="id-card"> </ion-icon>
            Cedula militar: <i> {{aspirante.asp_militar}} </i>
          </ion-label>
        </ion-col>

      </ion-row>

      <!-- </p> -->
    </ion-item>
    <!-- <ion-title>Header</ion-title> -->
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding" color="light">

  <ion-card class="ion-no-padding" style="margin: 0px;" >
    <!-- <ion-fab vertical="top" horizontal="end" edge="false" >

    </ion-fab>   -->

    <ion-card-header color="medium" style="display: flex;">
      <!-- <ion-button (click)="onClick()" >
        <ion-icon slot="icon-only" name="add"></ion-icon>
      </ion-button> -->

      <ion-card-title style="font-size: 1rem;">AREA MEDICA (Observaciones)</ion-card-title>
      <!-- <ion-card-title>Awesome Title</ion-card-title> -->
      <ion-fab-button size="small" style="position: absolute; top: 0; right: 0; margin: 5px;" color="light"
        (click)="mostrarMedicina()">
        <ion-icon *ngIf=(showMedicina) name="chevron-up-outline"></ion-icon>
        <ion-icon *ngIf=(!showMedicina) name="chevron-down-outline"></ion-icon>
      </ion-fab-button>
    </ion-card-header>

    <ion-card-content color="light" >
      <ion-list *ngIf=(showMedicina) >

        <ion-item style="color:#544f5f;" >
            <ion-label position="stacked"><b>Valoracion</b></ion-label>
            <span class="label-observacion">{{aspirante.amv_observacion}}</span>
        </ion-item>
        <ion-item style="color:#544f5f;">
            <ion-label position="stacked"><b>Condiciones de ingreso</b></ion-label>
            <span class="label-observacion">{{aspirante.amv_observacion2}}</span>
        </ion-item>
        <ion-item style="--color:#544f5f;">
            <ion-label position="stacked"><b>Recomendaciones</b></ion-label>
            <span class="label-observacion">{{aspirante.amv_recomendacion}}</span>
        </ion-item>

      </ion-list>
    </ion-card-content>
  </ion-card>
  <!-- <p style="margin-bottom: 0;"> -->
  <ion-card-header style="margin: 0;">
    <!-- <ion-card-subtitle>Awesome Subtitle</ion-card-subtitle> -->
    <ion-card-title class="ion-text-center" color="primary" style="margin: 0; font-size: 1rem;">
      <b>PROCESO DE SELECCION DE PERSONAL</b>
    </ion-card-title>
  </ion-card-header>
  <!-- <ion-text color="danger" style="font-size: small;">
      <i>* Deben estar todos los campos validados para proceder a entrevista con el psicologo.</i>
    </ion-text> -->
  <!-- </p> -->


  <!-- <div > -->
  <ion-list>

    <ion-item [hidden]="" [disabled]="aspirante.apv_verificado">
      <ion-label position="floating">Concepto final</ion-label>
      <ion-textarea class="custom-textarea" [(ngModel)]="aspirante.apv_concepto" [value]="aspirante.apv_concepto"
        type="text" name="apv_concepto" placeholder="(espacio para el entrevistador)"
        (ionChange)="editTextbox($event,'apv_concepto')">
      </ion-textarea>
    </ion-item>

    <ion-list-header color="light" class="ion-text-center">
      <ion-label class="ion-text-uppercase">Aprobacion psicologica</ion-label>
    </ion-list-header>

    <ion-radio-group [(ngModel)]="aspirante.apv_aprobado" [value]="aspirante.apv_aprobado"
      (ionChange)="setAprobado($event)" style="width: 100%; display:inline-flex;">

      <ion-item [disabled]="aspirante.apv_verificado" slot="start" style="width: 30%;">
        <ion-label color="primary">SI</ion-label>
        <ion-radio slot="start" value="SI"></ion-radio>
      </ion-item>

      <ion-item [disabled]="aspirante.apv_verificado" style="width: 30%;">
        <ion-label color="danger">NO</ion-label>
        <ion-radio value="NO" slot="start"></ion-radio>
      </ion-item>

      <ion-item [disabled]="aspirante.apv_verificado" slot="end" style="width: 40%;">
        <ion-label color="primary">CON RESERVA</ion-label>
        <ion-radio value="RESERVA" slot="start"></ion-radio>
      </ion-item>

    </ion-radio-group>

    <!-- <ion-item [hidden]="" [disabled]="aspirante.apv_verificado">
      <ion-textarea class="custom-textarea" [(ngModel)]="aspirante.apv_observacion" [value]="aspirante.apv_observacion"
        type="text" name="apv_observacion" placeholder="Observaciones"
        (ionChange)="editTextbox($event,'apv_observacion')">
      </ion-textarea>
    </ion-item> -->

    <app-list-observacion [observaciones]="listaObservaciones" [verificado]="!aspirante.apv_verificado">

    </app-list-observacion>

  </ion-list>

  <!-- subir Ficha psicologica xlsx -->
  <div style="display: flex; background: f4f5f8; margin-top: 5px; width: 100%;">

    <ion-item [hidden]="aspirante.apv_verificado == true || rol != 'psico'" class="ion-no-padding"
      style="width: 45%; font-size: 0.9rem; " lines="full">
      <ion-label position="stacked" style="margin-bottom: 10px; font-size: 1.1rem !important; font-weight: bold;">Ficha
        psicologica</ion-label>
      <input (change)="fileChange(1,$event)" type="file" accept=".xls,.xlsx,.pdf">
    </ion-item>


    <ion-item [hidden]="aspirante.apv_verificado == false || rol != 'psico' || aspirante.apv_urlficha==''"
      style="width: 50%;">
      <ion-button color="primary" expand="block"
        [href]="(aspirante.apv_urlficha)?aspirante.apv_urlficha.replace('..','https://getssoma.com'):''" slot=""
        style="height: 40px; width: 100%;">
        <ion-icon name="download-outline" slot="start"></ion-icon>
        Ficha psicologica
      </ion-button>
    </ion-item>

    <!-- subir Cuestionario psico-social pdf -->
    <ion-item [hidden]="aspirante.apv_verificado == true || rol != 'psico'" class="ion-no-padding" slot="end"
      style="width: 45%; font-size: 0.9rem; margin-right: 0px;" lines="full">
      <ion-label position="stacked" style="margin-bottom: 10px; font-size: 1.1rem !important; font-weight: bold;">Test
        psicometrico</ion-label>
      <input (change)="fileChange(2,$event)" type="file" accept=".xls,.xlsx,.pdf">
    </ion-item>

    <ion-item [hidden]="aspirante.apv_verificado==false || rol!='psico' || aspirante.apv_urltest==''"
      style="width: 50%;">
      <ion-button color="primary" expand="block"
        [href]="(aspirante.apv_urltest)?aspirante.apv_urltest.replace('..','https://getssoma.com'):''" slot=""
        style="height: 40px; width: 100%;">
        <ion-icon name="download-outline" slot="start"></ion-icon>
        Test de aptitud
      </ion-button>
    </ion-item>
  </div>

</ion-content>

<ion-footer>
  <ion-toolbar>
    <ion-button (click)="cerrarModal()" expand="block" fill="clear" color="danger">
      Cancelar
    </ion-button>
    <ion-button [disabled]="aspirante.apv_verificado" (click)="presentAlert()" expand="block" slot="end" fill="solid"
      color="primary">
      Finalizar
    </ion-button>
  </ion-toolbar>
</ion-footer>